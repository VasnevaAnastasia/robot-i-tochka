# Задачи для первого релиза

## TC-01 Регистрация в программе лояльности
**Use case:** [UC-01 Регистрация в программе лояльности](../requirements/uc01.md)

| Номер ТС       | Название сценария                              | Тип            | Сценарий                                                                                                                                                                                                                                                                                                                                                                                                                  |
| -------------- | ---------------------------------------------- | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`TC-01.01`** | Успешная регистрация нового пользователя       | Позитивный     | **Предусловие:** Пользователь не зарегистрирован.  <br><br>**Шаги:** <br>1. Нажать «Регистрация». <br>2. Ввести корректный номер. <br>3. Получить и ввести верный код. <br>4. Ввести пароль. <br>5. Нажать «Сохранить».  <br><br>**Ожидаемый результат:** Система создаёт учётную запись, авторизует пользователя, отображает личный кабинет.  <br><br>**Постусловие:** Учетная запись создана, пользователь авторизован. |
| **`TC-01.02`** | Пользователь уже зарегистрирован               | Альтернативный | **Предусловие:** Пользователь уже есть в системе.<br><br>**Шаги:** <br>1. Нажать «Регистрация»<br>2. Ввести номер, уже зарегистрированный в системе.<br><br>**Ожидаемый результат:** Система выводит сообщение «Вы уже зарегистрированы», предлагает ввести пароль. <br><br>**Постусловие:** Регистрация прекращена, переход к сценарию авторизации.                                                                      |
| **`TC-01.03`** | Повторный запрос кода (если SMS не пришло)     | Альтернативный | **Предусловие:** Пользователь не зарегистрирован, код не был получен.<br><br>**Шаги:** <br>1. Ввести номер.<br>2. Нажать «Получить код».<br>3. Дождаться таймера.<br>4. Нажать «Отправить код еще раз».<br>5. Ввести полученный код.<br>6. Продолжить регистрацию.  <br><br>**Ожидаемый результат:** Код отправлен повторно, регистрация завершается успешно.  <br><br>**Постусловие:** Учетная запись создана.           |
| **`TC-01.04`** | Ввод некорректного кода подтверждения          | Негативный     | **Предусловие:** Пользователь получил код, но ввел неверный.  <br><br>**Шаги:** <br>1. Ввести неправильный код подтверждения.<br><br>**Ожидаемый результат:** Система показывает сообщение об ошибке «Неверный код». <br><br>**Постусловие:** Пользователь остаётся на экране ввода кода.                                                                                                                                 |
| **`TC-01.05`** | Ввод номера в неправильном формате             | Негативный     | **Предусловие:** Пользователь находится на форме регистрации.  <br><br>**Шаги:** <br>1. Ввести номер телефона в неправильном формате (буквы, символы, короткий номер). <br><br>**Ожидаемый результат:** Система выдаёт сообщение об ошибке.  <br><br>**Постусловие:** Регистрация не начата.                                                                                                                              |
| **`TC-01.06`** | Несовпадение паролей при создании              | Негативный     | **Предусловие:** Пользователь дошёл до шага создания пароля.  <br><br>**Шаги:** <br>1. Ввести пароль.<br>2. Повторно ввести другой пароль. 3. Нажать «Сохранить».  <br><br>**Ожидаемый результат:** Система показывает ошибку «Пароли не совпадают».  <br><br>**Постусловие:** Регистрация не завершена.                                                                                                                  |
| **`TC-01.07`** | Пропуск необязательных данных                  | Позитивный     | **Предусловие:** Пользователь на экране ввода пароля для ЛК.<br><br>**Шаги:** <br>1. Не заполнять имя, город, дату рождения.<br>2. Ввести только пароль.<br>3. Сохранить.  <br><br>**Ожидаемый результат:** Система сохраняет профиль, завершает регистрацию.  <br><br>**Постусловие:** Учетная запись создана.                                                                                                           |
| **`TC-01.08`** | Пропуск обязательных данных (не введён пароль) | Негативный     | **Предусловие:** Пользователь на экране ввода пароля для ЛК.<br><br>**Шаги:** <br>1. Оставить поле пароля пустым.<br>2. Нажать «Сохранить».  <br><br>**Ожидаемый результат:** Система отображает ошибку «Введите пароль».<br><br>**Постусловие:** Регистрация не завершена, пользователь остаётся на экране ввода.                                                                                                        |

## TC-02 Авторизация в программе лояльности
**Use case:** [UC-02 Авторизация в программе лояльности](../requirements/uc02.md)

| Номер ТС       | Название сценария                             | Тип            | Сценарий                                                                                                                                                                                                                                                                                                                                                                                                                       |
| -------------- | --------------------------------------------- | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **`TC-02.01`** | Успешная авторизация                          | Позитивный     | **Предусловие**: Пользователь не авторизован в системе.  <br><br>**Шаги**: <br>1. Пользователь нажимает «Войти в личный кабинет».  <br>2. Вводит корректный номер телефона и верный пароль.  <br>3. Нажимает кнопку «Войти».  <br><br>**Ожидаемый результат**: Система находит пользователя и успешно авторизует его. Открывается личный кабинет.  <br><br>**Постусловие**: Пользователь авторизован.                          |
| **`TC-02.02`** | Неверный пароль                               | Негативный     | **Предусловие**: Пользователь не авторизован в системе.<br><br>**Шаги**: <br>1. Пользователь нажимает «Войти в личный кабинет».  <br>2. Вводит корректный номер телефона и неверный пароль.  <br>3. Нажимает «Войти».  <br><br>**Ожидаемый результат**: Система сообщает: «Пароль не корректный, попробуйте ввести еще раз». Отображается кнопка «Восстановить пароль».  <br><br>**Постусловие**: Пользователь не авторизован. |
| **`TC-02.03`** | Превышен лимит попыток ввода пароля           | Негативный     | **Предусловие**: Пользователь не авторизован в системе.  <br><br>**Шаги**: <br>1. Вводит номер телефона и трижды неверный пароль.  <br>2. После третьей попытки система блокирует вход.<br><br>**Ожидаемый результат**: Система сообщает: «Достигнуто максимальное количество попыток». Система блокирует попытку ввести пароль на 5 минут. <br><br>**Постусловие**: Пользователь не авторизован.                              |
| **`TC-02.04`** | Авторизация с  номером которого нет в системе | Негативный     | **Предусловие**: Пользователь не авторизован в системе.<br><br>**Шаги**: <br>1. Вводит незарегистрированный номер телефона и любой пароль.  <br>2. Нажимает «Войти». <br><br>**Ожидаемый результат**: Система сообщает, что пользователь с таким номером не найден.  <br><br>**Постусловие**: Пользователь не авторизован.                                                                                                     |
| **`TC-02.05`** | Пустое поле пароля                            | Негативный     | **Предусловие**: Пользователь не авторизован в системе.<br><br>**Шаги**: <br>1. Вводит номер телефона, не заполняет поле пароля.  <br>2. Нажимает «Войти». <br><br>**Ожидаемый результат**: Система сообщает: «Поле пароля не может быть пустым».  <br><br>**Постусловие**: Пользователь не авторизован.                                                                                                                       |
| **`TC-02.06`** | Прерывание авторизации пользователем          | Альтернативный | **Предусловие**: Пользователь начал процесс авторизации.  <br><br>**Шаги**: <br>1. На любом этапе нажимает кнопку «Назад».<br><br>**Ожидаемый результат**: Система возвращает пользователя на предыдущий экран или завершает процесс входа.  <br><br>**Постусловие**: Пользователь не авторизован.                                                                                                                             |


## TC-03 Восстановление пароля
**Use case:** [UC-03 Восстановление пароля от ЛК](../requirements/uc03.md)

| Номер ТС       | Название сценария                               | Тип            | Сценарий                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| -------------- | ----------------------------------------------- | -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`TC-03.01`** | Успешное восстановление пароля                  | Позитивный     | **Предусловие**: Пользователь зарегистрирован и не авторизован в системе.  <br><br>**Шаги**: <br>1. На экране авторизации нажимает «Восстановить пароль».  <br>2. Вводит корректный номер телефона.  <br>3. Получает SMS и вводит правильный код подтверждения.  <br>4. Вводит новый пароль и нажимает «Сохранить».  <br><br>**Ожидаемый результат**: Пароль обновлён, пользователь может войти в ЛК с новым паролем.  <br><br>**Постусловие**: Новый пароль сохранён. |
| **`TC-03.02`** | Неверный код подтверждения                      | Негативный     | **Предусловие**: Пользователь на экране ввода кода после запроса восстановления пароля.  <br><br>**Шаги**: <br>1. Вводит неверный код из SMS.  <br>**Ожидаемый результат**: Система сообщает: «Неверный код подтверждения».  <br><br>**Постусловие**: Пароль не изменён.                                                                                                                                                                                               |
| **`TC-03.03`** | Номер телефона, не зарегистрированный в системе | Негативный     | **Предусловие**: Пользователь не авторизован.  <br><br>**Шаги**: <br>1. Нажимает «Восстановить пароль».  <br>2. Вводит номер телефона, не зарегистрированный в системе.  <br><br>**Ожидаемый результат**: Система сообщает: «Пользователь с таким номером не найден».  <br><br>**Постусловие**: Пароль не изменён.                                                                                                                                                     |
| **`TC-03.04`** | Пропуск обязательного ввода пароля              | Негативный     | **Предусловие**: Пользователь дошёл до шага ввода нового пароля.  <br><br>**Шаги**: <br>1. Не вводит пароль и нажимает «Сохранить».  <br><br>**Ожидаемый результат**: Система сообщает: «Поле пароля не может быть пустым».  <br><br>**Постусловие**: Пароль не изменён.                                                                                                                                                                                               |
| **`TC-03.05`** | Успешный повторный запрос кода подтверждения    | Альтернативный | **Предусловие**: Пользователь не получил SMS с кодом.  <br><br>**Шаги**: <br>1. Дожидается окончания таймера.  <br>2. Нажимает кнопку «Отправить код еще раз».  <br>3. Получает и вводит корректный код.  <br><br>**Ожидаемый результат**: Система принимает новый код, переход к шагу ввода нового пароля.  <br><br>**Постусловие**: Пароль может быть обновлён.                                                                                                      |
| **`TC-03.06`** | Прерывание процесса восстановления пароля       | Альтернативный | **Предусловие**: Пользователь начал восстановление пароля.  <br><br>**Шаги**: <br>1. На любом шаге нажимает «Назад».  <br><br>**Ожидаемый результат**: Система прекращает восстановление пароля и возвращает на предыдущий экран.  <br><br>**Постусловие**: Процесс восстановления пароля отменён.                                                                                                                                                                     |
## TC-04 Просмотр личного кабинета
**Use case:** [UC-04 Просмотр личного кабинета программы лояльности](../requirements/uc04.md)

| Номер ТС       | Название сценария                     | Тип            | Сценарий                                                                                                                                                                                                                                                                                                                                                            |
| -------------- | ------------------------------------- | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`TC-04.01`** | Успешный просмотр личного кабинета    | Позитивный     | **Предусловие**: Пользователь авторизован в системе.<br><br>**Шаги**: <br>1. Нажимает иконку личного кабинета.  <br>2. Система открывает страницу ЛК с персональными данными (имя, бонусы, история заказов и пр.).  <br><br>**Ожидаемый результат**: Личный кабинет отображается корректно.  <br><br>**Постусловие**: Пользователь просмотрел свой ЛК.              |
| **`TC-04.02`** | Ошибка при загрузке данных            | Негативный     | **Предусловие**: Пользователь авторизован, но возникает ошибка при обращении к серверу.  <br><br>**Шаги**: <br>1. Нажимает иконку ЛК.  <br>2. Система не может загрузить данные из-за ошибки (например, 500).  <br><br>**Ожидаемый результат**: Отображается сообщение: «Не удалось загрузить данные. Попробуйте позже».  <br><br>**Постусловие**: ЛК не отображён. |
| **`TC-04.03`** | Отображение пустых/неполных данных    | Негативный     | **Предусловие**: Пользователь авторизован, но данные профиля неполные (например, отсутствует имя).  <br><br>**Шаги**: <br>1. Открывает ЛК.  <br><br>**Ожидаемый результат**: Отображаются поля без данных.<br><br>**Постусловие**: Пользователь просмотрел ЛК.                                                                                                      |
| **`TC-04.04`** | Просмотр после выхода из системы      | Негативный     | **Предусловие**: Пользователь разлогинился или сессия истекла.  <br><br>**Шаги**: <br>1. Нажимает иконку ЛК после завершения сессии.  <br><br>**Ожидаемый результат**: Система перенаправляет на экран авторизации.  <br><br>**Постусловие**: Просмотр ЛК невозможен без входа.                                                                                     |
| **`TC-04.05`** | Прерывание просмотра личного кабинета | Альтернативный | **Предусловие**: Пользователь авторизован, начал просмотр ЛК.  <br><br>**Шаги**: <br>1. Нажимает кнопку «Назад» или закрывает экран.  <br><br>**Ожидаемый результат**: Система возвращает на предыдущий экран.  <br><br>**Постусловие**: Пользователь покинул экран ЛК.                                                                                             |
## TC-12 Просмотр истории заказов
**Use case:** [UC-12 Просмотр истории заказов](../requirements/uc12.md)

| Номер ТС       | Название сценария                   | Тип            | Сценарий                                                                                                                                                                                                                                                                                                                                                                                      |
| -------------- | ----------------------------------- | -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`TC-12.01`** | Успешный просмотр списка заказов    | Позитивный     | **Предусловие**: Пользователь авторизован, в системе есть заказы.  <br><br>**Шаги**: <br>1. Переходит в раздел «Заказы».  <br>2. Система отображает список заказов за последние 3 года.  <br>3. Пользователь просматривает список.  <br><br>**Ожидаемый результат**: Заказы отображаются с датой, статусом, составом.  <br><br>**Постусловие**: Пользователь просмотрел список заказов.       |
| **`TC-12.02`** | У пользователя нет заказов          | Альтернативный | **Предусловие**: Пользователь авторизован, у него нет заказов в системе.  <br><br>**Шаги**: <br>1. Переходит в раздел «Заказы».  <br><br>**Ожидаемый результат**: Система отображает сообщение «Вы еще ничего не заказали».  <br><br>**Постусловие**: Пользователь получил корректную информацию об отсутствии заказов.                                                                       |
| **`TC-12.03`** | Ошибка при загрузке заказов         | Негативный     | **Предусловие**: Пользователь авторизован, происходит ошибка сервера или сети при загрузке заказов.  <br><br>**Шаги**: <br>1. Переходит в раздел «Заказы».  <br>2. Система не может получить список заказов.  <br><br>**Ожидаемый результат**: Система отображает сообщение об ошибке: «Не удалось загрузить заказы. Попробуйте позже».  <br><br>**Постусловие**: Список заказов не загружен. |
| **`TC-12.04`** | Просмотр заказов после выхода из ЛК | Негативный     | **Предусловие**: Пользователь вышел из системы до перехода в раздел «Заказы».  <br><br>**Шаги**: <br>1. Пытается открыть раздел «Заказы».  <br><br>**Ожидаемый результат**: Система перенаправляет пользователя на экран авторизации.  <br><br>**Постусловие**: Просмотр заказов недоступен без входа в систему.                                                                              |
| **`TC-12.05`** | Прерывание процесса просмотра       | Альтернативный | **Предусловие**: Пользователь начал просмотр заказов.  <br><br>**Шаги**: <br>1. Переходит на предыдущий экран или закрывает раздел.  <br><br>**Ожидаемый результат**: Система возвращает пользователя на предыдущую страницу.  <br><br>**Постусловие**: Просмотр заказов завершён пользователем вручную.                                                                                      |
## TC-14 Отмена заказа
**Use case:** [UC-14 Отмена заказа](../requirements/uc14.md)

| Номер ТС       | Название сценария                  | Тип            | Сценарий                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| -------------- | ---------------------------------- | -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`TC-14.01`** | Успешная отмена оплаченного заказа | Позитивный     | **Предусловие**: Пользователь авторизован, заказ оплачен картой, открыт экран заказа.  <br><br>**Шаги**: <br>1. Нажимает «Отменить заказ».  <br>2. Подтверждает действие.  <br>3. Система отправляет запрос на возврат в платёжную систему — успех.  <br>4. Меняет статус заказа на «Отменен».  <br>5. Уведомляет сервис роботов.  <br>6. Показывает уведомление об отмене и возврате средств.  <br>7. Номер заказа исчезает с табло.  <br><br>**Ожидаемый результат**: Заказ отменен, возврат оформлен.  <br><br>**Постусловие**: Заказ отменен, возврат инициирован |
| **`TC-14.02`** | Отмена неоплаченного заказа        | Альтернативный | **Предусловие**: Пользователь авторизован, заказ не был оплачен.  <br><br>**Шаги**: <br>1. Нажимает «Отменить заказ».  <br>2. Подтверждает действие.  <br>3. Система меняет статус на «Отменен».  <br>4. Уведомляет сервис роботов.  <br>5. Отображает уведомление об отмене.  <br><br>**Ожидаемый результат**: Отмена завершена без возврата средств.  <br><br>**Постусловие**: Заказ отменен.                                                                                                                                                                       |
| **`TC-14.03`** | Пользователь отказался от отмены   | Альтернативный | **Предусловие**: Пользователь авторизован, открыт заказ.  <br><br>**Шаги**: <br>1. Нажимает «Отменить заказ».  <br>2. Система запрашивает подтверждение.  <br>3. Пользователь нажимает «Отмена» или закрывает окно.  <br><br>**Ожидаемый результат**: Заказ остается активным, система возвращает на карточку заказа.  <br>**Постусловие**: Заказ не изменен.                                                                                                                                                                                                         |
| **`TC-14.04`** | Ошибка при возврате денег          | Альтернативный | **Предусловие**: Пользователь авторизован, заказ был оплачен картой, открыт заказ.  <br><br>**Шаги**: <br>1. Нажимает «Отменить заказ».  <br>2. Подтверждает действие.  <br>3. Система отправляет запрос в платёжную систему — получена ошибка.  <br><br>**Ожидаемый результат**: Отображается ошибка отмены, предложено обратиться к менеджеру.  <br><br>**Постусловие**: Заказ не отменен, средства не возвращены.                                                                                                                                                  |
| **`TC-14.05`** | Прерывание процесса отмены заказа  | Альтернативный | **Предусловие**: Пользователь вышел из системы / сессия устарела, открыт заказ.  <br><br>**Шаги**: <br>1. Пытается нажать «Отменить заказ».  <br><br>**Ожидаемый результат**: Система запрашивает повторную авторизацию.  <br><br>**Постусловие**: Отмена не выполнена.                                                                                                                                                                                                                                                                                               |


